syntax = "proto3";

package build.stack.centrl.render.v1;

option go_package = "github.com/bazel-contrib/bcr-frontend/build/stack/centrl/render/v1;rnpb";

message Template {
    // filename of the template
    string filename = 1;
    // error is a string assigned when a parse error occurs
    string error = 2;
}

// Rule represents a set of files with a label and rule kind.
message Rule {
    // label is the bazel label.
    string label = 1;
    // kind is the kind of rule named by label.
    string kind = 2;
    // files is the list of files in the rule
    repeated build.stack.centrl.render.v1.Template files = 3;
    // sha256 is a combined hash of the files
    string sha256 = 4;
    // render_time_millis is the time taken to collect filesnames and render the files.
    int64 render_time_millis = 5;
}
