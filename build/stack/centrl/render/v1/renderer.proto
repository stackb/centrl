syntax = "proto3";

package build.stack.centrl.render.v1;

import "build/stack/centrl/render/v1/template.proto";

option go_package = "github.com/bazel-contrib/bcr-frontend/build/stack/centrl/render/v1;rnpb";

// RenderRequest holds a list of filenames to be rendered.
message RenderRequest {
    // filenames is the list of files to render.
    repeated string filenames = 1;
}

// RenderResponse holds the Renderd file data.
message RenderResponse {
    // files is file Render result list.
    repeated build.stack.centrl.render.v1.Template files = 1;
    // error is populated when a top-level Render error occurs that is 
    // independent from a single file.
    string error = 2;
    // elapsed_millis is the total time spent on the request.
    int64 elapsed_millis = 3;
}

// Renderer is a service that can render template files.
service Renderer {
    // Render is a unary rpc function that takes a single request and returns a
    // single response.
    rpc Render(RenderRequest) returns (RenderResponse) {}
}
